<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>商品列表页面</title>
		<style type="text/css">
			*{margin: 0;padding: 0;}
			.cont{width: 1000px;border: solid 1px black;margin: 0 auto;display: flex;flex-wrap: wrap;}
			.cont .box{width: 250px;border: solid 1px black;box-sizing: border-box;text-align: center;padding: 10px;}
			.box img{padding: 20px 0px;}
			.box p{text-align: left;height: 40px;overflow: hidden;margin: 20px 0;}
			.box span{font-weight: bold;color: red;}
		</style>
	</head>
	<body>
		<p><a href="car.html" target="_blank">购物车</a></p>
		<div class="cont" id="cont"></div>
	</body>
	<script src="data/goods.js" type="text/javascript" charset="utf-8"></script>
	<script src="libs/cont.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		var index = 0;
		var str = "";
		for(var i=0;i<json.length;i++){
//			console.log(json[i])
			str += '<div class="box" data-id="'+json[i].goodsId+'">'+
						'<img src="' + json[i].src + '"/>'+
						'<p>'+ json[i].name +'</p>'+
						'<span>'+ json[i].price +'</span>'+
						'<em>加入购物车</em>'+
					'</div>';
		}
		
		console.log(str)
		var ocont = document.getElementById("cont");
		ocont.innerHTML = str;
		
		ocont.onclick = function(eve){
			var e = eve || window.event;
			if(e.target.nodeName == "EM"){
				index = e.target.parentNode.getAttribute("data-id");
				setCookie(index,index);
			}
		}
		
	</script>
</html>
