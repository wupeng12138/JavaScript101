<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>商品列表</title>
		<style type="text/css">
			*{margin: 0;padding: 0;}
			.cont{width: 1000px;border: solid 1px black;margin: 0 auto;display: flex;flex-wrap: wrap;}
			.cont .box{width: 250px;border: solid 1px black;box-sizing: border-box;text-align: center;padding: 10px;}
			.box img{padding: 10px 0px;}
			.box p{text-align: left;height: 40px;overflow: hidden;margin: 10px 0;}
			.box span{font-weight: bold;color: red;}
			.box em{display: block;width: 120px;text-align: center;background: limegreen;cursor: pointer;margin: 0 auto;font-style: normal;color: #fff;border-radius: 6px;font: 14px/30px "微软雅黑"}
		</style>
	</head>
	<body>
		<div class="cont" id="cont"></div>
	</body>
	<script src="../cont.js" type="text/javascript" charset="utf-8"></script>
	<script src="data.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		var str = "";
		var index = 0;
		var ocont = document.getElementById("cont");
		
		var goods = getCookie("goods") || [];
		console.log(goods)
		setTimeout(function(){
			for(var i=0;i<json.length;i++){
				str += '<div class="box" data-id="'+json[i].goodsId+'">'+
							'<img src="' + json[i].src + '"/>'+
							'<p>'+ json[i].name +'</p>'+
							'<span>'+ json[i].price +'</span>'+
//							'<input type="button" liyang="sc" value="收藏">'+
							'<em>加入购物车</em>'+
//							'<input type="button" liyang="car" value="加入购物车">'+
						'</div>';
			}
			ocont.innerHTML = str;
		},1)
		
//		var em = document.querySelectorAll("em");
//		console.log(em)
		ocont.onclick = function(eve){
			var e = eve || window.event;
//			console.log(e.target.getAttribute("liyang") == "car")
			if(e.target.nodeName == "EM"){
				index = e.target.parentNode.getAttribute("data-id") - 1;
//				console.log(json[index]);
//				分支:cookie存数据的两种方式：整个存，只存唯一标识
				
				setCookie("goods",JSON.stringify(json[index]));
			}
		}
		
		
		
		
	</script>
</html>
