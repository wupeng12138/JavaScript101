<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			.box{width: 100px;height: 80px;background: #000;color: #fff;line-height: 80px;text-align: center;border-radius: 6px;position: absolute;left: 50%;top: 50%;margin: -40px 0 0 -50px;}
		</style>
	</head>
	<body>
		<input type="button" name="btn" id="btn" value="弹出" />
	</body>
	<script type="text/javascript">
//		工厂模式
//		function Fn(){
//			this.name = "admin";
//			this.show = function(){
//				console.log(this.name)
//			}
//		}
//		var fn = new Fn();
//		fn.show()
		
		//单例模式：单个实例
		
//		function Fn(){
//			if(!Fn.obj){
//				Fn.obj = {
//					name:"admin"
//				}
//			}
//			return Fn.obj;
//		}
//		var a = new Fn();
//		var b = new Fn();
//		var c = new Fn();
//		var d = new Fn();
//		var e = new Fn();
//		var f = new Fn();
//		console.log(a.name)			//admin
//		console.log(a == b && c == d && e == f)			//true

		var obtn = document.getElementById("btn");		//弹出模态框
		obtn.onclick = function(){
			var a = new Toast();
			a.style.color = "red";
		}
		
		function Toast(){
			if(!Toast.div){
				Toast.div = document.createElement("div");
				Toast.div.className = "box";
				Toast.div.innerHTML = "开门失败";
				document.body.appendChild(Toast.div);
				clearTimeout(Toast.div.timer);
				Toast.div.timer = setTimeout(()=>{
					Toast.div.style.display = "none";
				},1500)
			}else{
				clearTimeout(Toast.div.timer);
				Toast.div.style.display = "block";
				Toast.div.timer = setTimeout(()=>{
					Toast.div.style.display = "none";
				},1500)
			}
			return Toast.div;
		}
	</script>
</html>
